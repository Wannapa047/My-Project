"use strict";var _deviceDetectorJs=_interopRequireDefault(require("https://cdn.skypack.dev/device-detector-js@2.2.10"));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function testSupport(e){var t=(new _deviceDetectorJs.default).parse(navigator.userAgent);e.some(function(e){return new RegExp("^".concat(e.client,"$")).test(t.client.name)})||alert("This demo, running on ".concat(t.client.name,", is not well supported."))}testSupport([{client:"Chrome"}]);var videoElement=document.querySelector(".input_video"),canvasElement=document.querySelector(".output_canvas"),canvasCtx=canvasElement.getContext("2d"),outputText=document.getElementById("outputText"),holistic=new window.Holistic({locateFile:function(e){return"https://cdn.jsdelivr.net/npm/@mediapipe/holistic@latest/".concat(e)}});function distance(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function detectGesture(e,t){if(t&&e){var n=t[0],a=t[8],i=t[4],r=t[12],c=e[0],s=e[8],o=e[4];e[12];if(n.y<.2&&.1<distance(a,n))return"เศร้า";if(n.y<.2&&c.y<.2&&distance(a,n)<.05&&distance(s,c)<.05&&distance(i,a)<.05&&distance(o,s)<.05)return"ขอโทษ";if(n.y<.3&&distance(n,a)<.05)return"สวัสดี";if(i.y<a.y&&a.y<r.y)return"ใช่";if(i.y>a.y&&a.y>r.y)return"ไม่";if(distance(i,pinkyRight)<.05&&distance(a,pinkyRight)<.05)return"โอเค";if(i.y<.4&&n.y<.5)return"ขอบใจ";if(distance(a,r)<.03&&distance(r,ringRight)<.03)return"เยี่ยม";if(.1<distance(i,a)&&.1<distance(a,r))return"รัก"}return null}function onResults(e){if(canvasCtx.clearRect(0,0,canvasElement.width,canvasElement.height),canvasCtx.drawImage(e.image,0,0,canvasElement.width,canvasElement.height),e.rightHandLandmarks&&e.rightHandLandmarks.forEach(function(e){canvasCtx.beginPath(),canvasCtx.arc(e.x*canvasElement.width,e.y*canvasElement.height,5,0,2*Math.PI),canvasCtx.fillStyle="blue",canvasCtx.fill()}),e.leftHandLandmarks&&e.leftHandLandmarks.forEach(function(e){canvasCtx.beginPath(),canvasCtx.arc(e.x*canvasElement.width,e.y*canvasElement.height,5,0,2*Math.PI),canvasCtx.fillStyle="red",canvasCtx.fill()}),e.leftHandLandmarks||e.rightHandLandmarks){var t=detectGesture(e.leftHandLandmarks,e.rightHandLandmarks);t&&(outputText.innerText="แปลภาษามือ: ".concat(t))}}holistic.setOptions({modelComplexity:1,smoothLandmarks:!0,enableSegmentation:!0,refineFaceLandmarks:!0,minDetectionConfidence:.9,minTrackingConfidence:.9}),holistic.onResults(onResults);var camera=new Camera(videoElement,{onFrame:function(){return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,regeneratorRuntime.awrap(holistic.send({image:videoElement}));case 2:case"end":return e.stop()}})},width:640,height:480});camera.start();
//# sourceMappingURL=record_data.min.js.map
